<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Functions - EventEase</title>
    <link rel="stylesheet" href="../css/functions.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""/>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Navigation Header -->
    <header class="app-header">
        <div class="brand">
            <svg width="32" height="32" viewBox="0 0 48 48" aria-hidden="true">
                <defs>
                    <linearGradient id="brandGradient" x1="0" y1="0" x2="1" y2="1">
                        <stop offset="0%" stop-color="#4A90E2"/>
                        <stop offset="100%" stop-color="#9B51E0"/>
                    </linearGradient>
                </defs>
                <path fill="url(#brandGradient)" d="M28 4c6 2 9 7 10 13l-7 7-5-5 2-7-7 2-5-5c6-3 9-4 12-5z"/>
                <circle cx="30" cy="14" r="3" fill="#fff" opacity=".9"/>
                <path d="M13 35c3-6 8-10 14-12l5 5c-2 6-6 11-12 14 1-3-2-6-7-7z" fill="#FF6B6B"/>
            </svg>
            <span>EventEase</span>
        </div>
        <div class="user-info">
            <div class="user-avatar">
                <span id="userInitials">U</span>
            </div>
            <span id="userName">User</span>
        </div>
        <div class="top-actions">
            <button id="themeToggle" class="btn ghost theme-toggle" title="Toggle theme">
                <svg class="theme-icon sun-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="5"/>
                    <line x1="12" y1="1" x2="12" y2="3"/>
                    <line x1="12" y1="21" x2="12" y2="23"/>
                    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>
                    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
                    <line x1="1" y1="12" x2="3" y2="12"/>
                    <line x1="21" y1="12" x2="23" y2="12"/>
                    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>
                    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
                </svg>
                <svg class="theme-icon moon-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
                </svg>
            </button>
            <button id="logoutBtn" class="btn ghost logout-btn">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/>
                    <polyline points="16,17 21,12 16,7"/>
                    <line x1="21" y1="12" x2="9" y2="12"/>
                </svg>
                Logout
            </button>
        </div>
    </header>

    <!-- Sidebar Navigation -->
    <aside class="sidebar">
        <nav class="sidebar-nav">
            <button data-view="dashboard" class="nav-btn active">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
                    <polyline points="9,22 9,12 15,12 15,22"/>
                </svg>
                <span>Dashboard</span>
            </button>
            <button data-view="ticket" class="nav-btn">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M15 5v2m0 4v2m0 4v2M5 5a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2 2 2 0 0 1 2 2v3a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-3a2 2 0 0 1 2-2 2 2 0 0 0 2-2V7a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2z"/>
                </svg>
                <span>EasyEntry</span>
            </button>
            <button data-view="announcements" class="nav-btn">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M12 2L2 7l10 5 10-5-10-5z"/>
                    <path d="M2 17l10 5 10-5"/>
                    <path d="M2 12l10 5 10-5"/>
                </svg>
                <span>Announcements</span>
            </button>
            <button data-view="lostfound" class="nav-btn">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="11" cy="11" r="8"/>
                    <path d="M21 21l-4.35-4.35"/>
                </svg>
                <span>Lost & Found</span>
            </button>
            <button data-view="emergency" class="nav-btn">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/>
                    <line x1="12" y1="9" x2="12" y2="13"/>
                    <line x1="12" y1="17" x2="12.01" y2="17"/>
                </svg>
                <span>Medical</span>
            </button>
        </nav>
    </aside>

    <!-- Main Content -->
    <main id="app">
        <!-- Dashboard View -->
        <section id="dashboard" class="view">
            <div class="view-header">
                <h1 class="view-title">Welcome back, <span id="dashboardUserName">User</span>! ðŸ‘‹</h1>
                <p class="view-subtitle">Manage your event experience with our comprehensive tools</p>
            </div>
            
            <div class="dashboard-grid">
                <div class="quick-stats">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M15 5v2m0 4v2m0 4v2M5 5a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2 2 2 0 0 1 2 2v3a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-3a2 2 0 0 1 2-2 2 2 0 0 0 2-2V7a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2z"/>
                            </svg>
                        </div>
                        <div class="stat-info">
                            <h3>Entry Status</h3>
                            <p id="entryStatus">Not Generated</p>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M12 2L2 7l10 5 10-5-10-5z"/>
                                <path d="M2 17l10 5 10-5"/>
                            </svg>
                        </div>
                        <div class="stat-info">
                            <h3>Announcements</h3>
                            <p id="announcementCount">0 New</p>
                        </div>
                    </div>
                </div>
                
                <div class="feature-cards">
                    <button class="feature-card" data-view="ticket">
                        <div class="feature-icon">
                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M15 5v2m0 4v2m0 4v2M5 5a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2 2 2 0 0 1 2 2v3a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-3a2 2 0 0 1 2-2 2 2 0 0 0 2-2V7a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2z"/>
                            </svg>
                        </div>
                        <div class="feature-content">
                            <h3>EasyEntry</h3>
                            <p>Generate your digital entry pass</p>
                        </div>
                        <div class="feature-arrow">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="9,18 15,12 9,6"/>
                            </svg>
                        </div>
                    </button>
                    
                    <button class="feature-card" data-view="announcements">
                        <div class="feature-icon">
                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M12 2L2 7l10 5 10-5-10-5z"/>
                                <path d="M2 17l10 5 10-5"/>
                            </svg>
                        </div>
                        <div class="feature-content">
                            <h3>Announcements</h3>
                            <p>Stay updated with event news</p>
                        </div>
                        <div class="feature-arrow">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="9,18 15,12 9,6"/>
                            </svg>
                        </div>
                    </button>
                    
                    <button class="feature-card" data-view="lostfound">
                        <div class="feature-icon">
                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="11" cy="11" r="8"/>
                                <path d="M21 21l-4.35-4.35"/>
                            </svg>
                        </div>
                        <div class="feature-content">
                            <h3>Lost & Found</h3>
                            <p>Report or find lost items</p>
                        </div>
                        <div class="feature-arrow">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="9,18 15,12 9,6"/>
                            </svg>
                        </div>
                    </button>
                    
                    <button class="feature-card emergency-card" data-view="emergency">
                        <div class="feature-icon">
                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/>
                                <line x1="12" y1="9" x2="12" y2="13"/>
                                <line x1="12" y1="17" x2="12.01" y2="17"/>
                            </svg>
                        </div>
                        <div class="feature-content">
                            <h3>Medical Emergency</h3>
                            <p>Get immediate medical assistance</p>
                        </div>
                        <div class="feature-arrow">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="9,18 15,12 9,6"/>
                            </svg>
                        </div>
                    </button>
                </div>
            </div>
        </section>

        <!-- EasyEntry View -->
        <section id="ticket" class="view hidden">
            <div class="view-header">
                <button type="button" class="btn ghost back-btn" data-view="dashboard">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="15,18 9,12 15,6"/>
                    </svg>
                    Back to Dashboard
                </button>
                <h1 class="view-title">EasyEntry System</h1>
                <p class="view-subtitle">Generate your digital entry pass for seamless event access</p>
            </div>
            
            <div id="event-code-form" class="content-card">
                <div class="card-header">
                    <h3>Enter Event Code</h3>
                    <p>Please enter the 6-digit event code provided by the organizers</p>
                </div>
                <form id="eventCodeForm" class="form-stack">
                    <div class="input-group">
                        <label for="eventCode">Event Code</label>
                        <input type="text" id="eventCode" placeholder="000000" maxlength="6" pattern="[0-9]{6}" required />
                        <span class="input-hint">Enter the 6-digit numeric code</span>
                    </div>
                    <button class="btn primary large" type="submit">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M15 5v2m0 4v2m0 4v2M5 5a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2 2 2 0 0 1 2 2v3a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-3a2 2 0 0 1 2-2 2 2 0 0 0 2-2V7a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2z"/>
                        </svg>
                        Generate Entry Pass
                    </button>
                </form>
            </div>
            
            <div id="qr-ticket" class="content-card ticket-card hidden">
                <div class="ticket-header">
                    <h3>HackCelestial 2.0 - Entry Pass</h3>
                    <div class="ticket-status">
                        <span class="status-badge active">Active</span>
                    </div>
                </div>
                <div class="ticket-content">
                    <div class="ticket-info">
                        <div class="info-item">
                            <label>Attendee</label>
                            <span id="ticketUser">User</span>
                        </div>
                        <div class="info-item">
                            <label>Event Code</label>
                            <span id="ticketCode">------</span>
                        </div>
                        <div class="info-item">
                            <label>Gate</label>
                            <span>Gate 3</span>
                        </div>
                        <div class="info-item">
                            <label>Valid Until</label>
                            <span>Event End</span>
                        </div>
                    </div>
                    <div class="qr-container">
                        <div id="qrcode"></div>
                        <p class="qr-instruction">Show this QR code at the entrance</p>
                    </div>
                </div>
            </div>
            
            <div id="volunteer-scanner" class="content-card scanner-card hidden">
                <div class="card-header">
                    <h3>QR Code Scanner</h3>
                    <p>Scan attendee QR codes for entry verification</p>
                </div>
                <div class="scanner-container">
                    <video id="scanner-preview" class="scanner-video"></video>
                    <div class="scanner-overlay">
                        <div class="scan-frame"></div>
                    </div>
                </div>
                <div id="scan-result" class="scan-result hidden">
                    <div class="result-content"></div>
                    <button id="reset-scanner" class="btn primary">Scan Another</button>
                </div>
            </div>
        </section>

        <!-- Announcements View -->
        <section id="announcements" class="view hidden">
            <div class="view-header">
                <button type="button" class="btn ghost back-btn" data-view="dashboard">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="15,18 9,12 15,6"/>
                    </svg>
                    Back to Dashboard
                </button>
                <h1 class="view-title">Announcements</h1>
                <p class="view-subtitle">Stay updated with the latest event information</p>
            </div>
            
            <div id="volunteer-announcement" class="content-card announcement-form hidden">
                <div class="card-header">
                    <h3>Create Announcement</h3>
                    <p>Share important information with all attendees</p>
                </div>
                <form id="announcementForm" class="form-stack">
                    <div class="input-group">
                        <label for="announcementTitle">Title</label>
                        <input type="text" id="announcementTitle" placeholder="Announcement title" required>
                    </div>
                    <div class="input-group">
                        <label for="announcementContent">Content</label>
                        <textarea id="announcementContent" placeholder="Write your announcement here..." rows="4" required></textarea>
                    </div>
                    <div class="input-group">
                        <label for="announcementPriority">Priority Level</label>
                        <select id="announcementPriority">
                            <option value="normal">Normal</option>
                            <option value="important">Important</option>
                            <option value="urgent">Urgent</option>
                        </select>
                    </div>
                    <button type="submit" class="btn primary large">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 2L2 7l10 5 10-5-10-5z"/>
                            <path d="M2 17l10 5 10-5"/>
                        </svg>
                        Post Announcement
                    </button>
                </form>
            </div>
            
            <div class="content-card">
                <div class="announcement-filters">
                    <button class="filter-btn active" data-filter="all">All</button>
                    <button class="filter-btn" data-filter="normal">Normal</button>
                    <button class="filter-btn" data-filter="important">Important</button>
                    <button class="filter-btn" data-filter="urgent">Urgent</button>
                </div>
                <div id="announcements-list" class="announcements-container">
                    <ul id="announcement-items" class="announcements-list">
                        <li class="empty-state">
                            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                <path d="M12 2L2 7l10 5 10-5-10-5z"/>
                                <path d="M2 17l10 5 10-5"/>
                            </svg>
                            <h4>No announcements yet</h4>
                            <p>Check back later for updates</p>
                        </li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Lost & Found View -->
        <section id="lostfound" class="view hidden">
            <div class="view-header">
                <button type="button" class="btn ghost back-btn" data-view="dashboard">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="15,18 9,12 15,6"/>
                    </svg>
                    Back to Dashboard
                </button>
                <h1 class="view-title">Lost & Found Chat</h1>
                <p class="view-subtitle">Report lost items or help others find their belongings</p>
            </div>
            
            <div class="content-card chat-card">
                <div id="chatBox" class="chat-container"></div>
                <form id="chatForm" class="chat-form">
                    <div class="chat-inputs">
                        <input type="text" id="chatName" placeholder="Your name" required />
                        <input type="text" id="chatMessage" placeholder="Describe the lost/found item..." required />
                        <input type="file" id="chatImage" accept="image/*" class="file-input" />
                    </div>
                    <button type="submit" class="btn primary send-btn">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="22" y1="2" x2="11" y2="13"/>
                            <polygon points="22,2 15,22 11,13 2,9 22,2"/>
                        </svg>
                        Send
                    </button>
                </form>
            </div>
        </section>

        <!-- Medical Emergency View -->
        <section id="emergency" class="view hidden">
            <div class="view-header">
                <button type="button" class="btn ghost back-btn" data-view="dashboard">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="15,18 9,12 15,6"/>
                    </svg>
                    Back to Dashboard
                </button>
                <h1 class="view-title">Medical Emergency</h1>
                <p class="view-subtitle">Get immediate medical assistance when you need it</p>
            </div>
            
            <div id="user-medical" class="content-card emergency-card">
                <div class="emergency-header">
                    <div class="emergency-icon">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/>
                            <line x1="12" y1="9" x2="12" y2="13"/>
                            <line x1="12" y1="17" x2="12.01" y2="17"/>
                        </svg>
                    </div>
                    <div class="emergency-text">
                        <h3>Emergency Assistance</h3>
                        <p>Press the button below if you need immediate medical help</p>
                    </div>
                </div>
                
                <button id="sos-button" class="sos-button">
                    <span class="sos-text">SOS</span>
                    <span class="sos-subtext">EMERGENCY HELP</span>
                </button>
                
                <div id="location-status" class="status-message hidden">
                    <div class="status-icon">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="3"/>
                            <path d="M12 1v6m0 6v6m11-7h-6m-6 0H1"/>
                        </svg>
                    </div>
                    <span>Sending your location to medical team...</span>
                </div>
                
                <div id="location-report" class="location-report hidden">
                    <div class="report-header">
                        <div class="report-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/>
                                <circle cx="12" cy="10" r="3"/>
                            </svg>
                        </div>
                        <div class="report-info">
                            <h4>Emergency Location Report</h4>
                            <p class="report-status">âœ… Successfully sent to medical team</p>
                        </div>
                    </div>
                    
                    <div class="location-details">
                        <div class="detail-item">
                            <label>Coordinates:</label>
                            <span id="coordinates-display">Getting location...</span>
                        </div>
                        <div class="detail-item">
                            <label>Address:</label>
                            <span id="address-display">Resolving address...</span>
                        </div>
                        <div class="detail-item">
                            <label>Accuracy:</label>
                            <span id="accuracy-display">Calculating...</span>
                        </div>
                        <div class="detail-item">
                            <label>Timestamp:</label>
                            <span id="timestamp-display"></span>
                        </div>
                    </div>
                </div>
                
                <div class="map-section">
                    <h4>Your Location</h4>
                    <div id="user-map" class="map-container"></div>
                </div>
            </div>
            
            <div id="volunteer-medical" class="content-card medical-dashboard hidden">
                <div class="card-header">
                    <h3>Medical Emergency Dashboard</h3>
                    <p>Monitor and respond to emergency requests in Navi Mumbai</p>
                </div>
                
                <div id="emergency-map" class="map-container large-map"></div>
                
                <div class="emergency-controls">
                    <div id="emergency-list" class="emergency-list">
                        <h4>Active Emergency Requests</h4>
                        <ul id="emergency-requests" class="requests-list"></ul>
                    </div>
                    
                    <div class="map-controls">
                        <button id="refresh-map" class="btn primary">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="23,4 23,10 17,10"/>
                                <polyline points="1,20 1,14 7,14"/>
                                <path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"/>
                            </svg>
                            Refresh Map
                        </button>
                        <button id="center-map" class="btn ghost">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="3"/>
                                <path d="M12 1v6m0 6v6m11-7h-6m-6 0H1"/>
                            </svg>
                            Center on Navi Mumbai
                        </button>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Bottom Navigation (Mobile) -->
    <nav class="bottom-nav">
        <button data-view="dashboard" class="nav-tab active">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
            </svg>
            <span>Home</span>
        </button>
        <button data-view="ticket" class="nav-tab">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M15 5v2m0 4v2m0 4v2M5 5a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2 2 2 0 0 1 2 2v3a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-3a2 2 0 0 1 2-2 2 2 0 0 0 2-2V7a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2z"/>
            </svg>
            <span>Entry</span>
        </button>
        <button data-view="announcements" class="nav-tab">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M12 2L2 7l10 5 10-5-10-5z"/>
            </svg>
            <span>News</span>
        </button>
        <button data-view="emergency" class="nav-tab">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/>
            </svg>
            <span>SOS</span>
        </button>
    </nav>

    <!-- Logout Confirmation Modal -->
    <div id="logoutModal" class="modal-overlay hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Confirm Logout</h3>
                <button class="modal-close" id="closeLogoutModal">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <p>Are you sure you want to logout? You'll need to sign in again to access your account.</p>
            </div>
            <div class="modal-footer">
                <button class="btn secondary" id="cancelLogout">Cancel</button>
                <button class="btn primary" id="confirmLogout">Logout</button>
            </div>
        </div>
    </div>

    <!-- Toast Notifications -->
    <div id="toast" class="toast hidden"></div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.1/build/qrcode.min.js"></script>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <script src="../js/maps.js"></script>
    <script src="../js/functions.js"></script>
</body>
</html>